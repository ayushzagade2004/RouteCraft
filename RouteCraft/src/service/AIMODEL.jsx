import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
    systemInstruction: "\nGenerate Travel Plan for Location: Goa, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time travel each of the location for 3 days with each day plan with best\ntime to visit in JSON format.\n\n\n",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Goa, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time travel each of the location for 3 days with each day plan with best\ntime to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a possible 3-day budget-friendly travel plan for a couple in Goa, presented in JSON format, along with hotel options and daily itineraries:\n\n```json\n{\n  \"tripName\": \"Goa Budget Trip for Couples (3 Days)\",\n  \"budget\": \"Low/Budget\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Old Goa Residency\",\n      \"hotelAddress\": \"Near Holy Hill, Velha Goa, Goa 403110, India\",\n      \"price\": 1500,\n\t  \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/25/a3/7b/f7/the-residency-the-place.jpg?w=500&h=300&s=1\",\n      \"geoCoordinates\": {\"latitude\": 15.496710, \"longitude\": 73.915412},\n      \"rating\": 3.8,\n\t  \"description\": \"A budget-friendly hotel in Old Goa known for its good location and decent rooms. It is well suited for traveler's looking for proximity to historical sites of Old Goa. Has the comfort and minimal requirements of any solo/group travelers.\",\n\t    \"amenities\" : [\"Free wifi\",\"Free Parking\",\"Ac\",\"Hot water\",\"Laundry Service\"]\n    },\n    {\n      \"hotelName\": \"Bloomrooms @ Calangute\",\n       \"hotelAddress\":\"H. No 482/A1, Vasudeva Bada, Umata Vaddo, Opp. Our Lady of Fatima Church, Bardez, Calangute, 403516 Goa, India\",\n      \"price\": 1800,\n     \"hotelImageUrl\": \"https://cdn.bloomrooms.com/bloom/2022/09/BLOOMrooms-Calangute-1024x682.jpg\",\n      \"geoCoordinates\": {\"latitude\": 15.541041, \"longitude\": 73.753448},\n      \"rating\": 4.0,\n     \"description\":\"A modern, budget hotel in Calangute near to many famous restaurants and beaches and provide decent quality for cost. Good to traveler's who like being closer to beach and like lively areas.\",\n\t\t \"amenities\" : [\"Free Wifi\", \"Ac\", \"Breakfast (add.charge)\"]\n   },\n      {\n     \"hotelName\": \"OYO 23160 Hotel Aaria Residency\",\n      \"hotelAddress\":\"Candolim Road, Behind Post Office, Candolim, Goa, 403515, India\",\n     \"price\": 1600,\n      \"hotelImageUrl\": \"https://media-cdn.oyorooms.com/images/e1b37eb4-abef-4819-b8aa-70048073bf07.jpg\",\n     \"geoCoordinates\": {\"latitude\":15.534684, \"longitude\": 73.766586},\n    \"rating\": 3.5,\n      \"description\": \"Offers a simple stay with basic facilities near Candolim beach with clean, well furnished room for the best value in your pocket. Provides the base point to beach lover looking for calm and peaceful stay near the shoreline\",\n\t \"amenities\" : [\"Free Wifi\",\"Ac\",\"Room Service\",\"TV\",\"Parking Available\"]\n\t  }\n\n  ],\n    \"dailyItinerary\": [\n    {\n      \"day\": 1,\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"theme\": \"North Goa Beaches and Fort\",\n      \"places\": [\n        {\n          \"placeName\": \"Calangute Beach\",\n          \"placeDetails\": \"One of Goa's most popular beaches, known for its long stretch of sand and water sports. Enjoy a swim or sunbathing and plenty of cafes and restaurants nearby.\",\n          \"placeImageUrl\": \"https://assets.traveltriangle.com/blog/wp-content/uploads/2018/01/Cover-Calangute-Beach.jpg\",\n          \"geoCoordinates\": {\"latitude\": 15.541308, \"longitude\": 73.753560},\n           \"ticketPricing\": \"Free\",\n          \"travelTime\": \"5 min(if staying near)\",\n          \"activity\":\"beach and watersports\"\n        },\n        {\n           \"placeName\": \"Baga Beach\",\n          \"placeDetails\": \"Known for it lively party and night life, as well for beautiful restaurants. You can have nice relaxing beach walk here.\",\n         \"placeImageUrl\":\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTCtT9y74M9Zl9lM_H9j81tq-oX3K01Zc_1j08g15Z5Z3bU_g_E8I9VwI19E8s5i465o&usqp=CAU\",\n          \"geoCoordinates\": {\"latitude\": 15.559988, \"longitude\": 73.750224},\n          \"ticketPricing\":\"Free\",\n          \"travelTime\":\"15-20min\",\n          \"activity\":\"beach walks and dinner\"\n        },\n          {\n           \"placeName\":\"Fort Aguada\",\n           \"placeDetails\":\"A well preserved Portuguese Fort that offers a rich historic architecture with an old prison, lighthoues and views of sea shore.\",\n          \"placeImageUrl\":\"https://media.cntraveller.in/wp-content/uploads/2020/03/Aguada-Fort.jpg\",\n          \"geoCoordinates\": {\"latitude\": 15.500610, \"longitude\":73.753904},\n          \"ticketPricing\":\"Rs 25\",\n          \"travelTime\":\"40min\",\n           \"activity\":\"Fort Visit and Sightseeing\"\n        }\n        ]\n    },\n    {\n      \"day\": 2,\n       \"bestTimeToVisit\": \"Morning\",\n       \"theme\":\"South Goa Nature & Churches\",\n        \"places\":[\n           {\n           \"placeName\": \"Dudhsagar Falls\",\n           \"placeDetails\": \"One of India's tallest waterfalls, a majestic sight especially after rains. Surrounded by lush greenery, the hike is worth the amazing nature beauty\",\n           \"placeImageUrl\":\"https://assets.traveltriangle.com/blog/wp-content/uploads/2016/09/dudhsaar_545x265.jpg\",\n           \"geoCoordinates\": {\"latitude\": 15.315548, \"longitude\": 74.313429},\n           \"ticketPricing\":\"Rs 50\",\n            \"travelTime\":\"1.5 Hours\",\n           \"activity\":\"Trekking and Water falls visit\"\n        },\n         {\n         \"placeName\": \"Se Cathedral\",\n           \"placeDetails\": \"One of the largest church of India dedicated to St. Catherine and features grand architecture and the golden bell. You can have calm visit to understand the architecture of Portugese influence on Goa\",\n          \"placeImageUrl\":\"https://media-cdn.tripadvisor.com/media/photo-s/12/2b/a5/b2/se-cathedral.jpg\",\n          \"geoCoordinates\": {\"latitude\": 15.495532, \"longitude\": 73.916373},\n          \"ticketPricing\":\"Free\",\n          \"travelTime\": \"2 hours\",\n          \"activity\":\"church Visit\"\n      } ,\n     {\n           \"placeName\":\"Basilica of Bom Jesus\",\n         \"placeDetails\":\"A renowned basilica containing the sacred relics of St. Francis Xavier. Witness beautiful archiectural carvings inside church.\",\n         \"placeImageUrl\":\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_R_c141wF9I5-Xw2N06NSRV8hC6kO2K9x7uRHzE_4L7z9tHn5L70nZlD304Z50-mY8Y&usqp=CAU\",\n          \"geoCoordinates\": {\"latitude\": 15.494521, \"longitude\": 73.915388},\n        \"ticketPricing\":\"Free\",\n        \"travelTime\": \"10mins\",\n         \"activity\":\"church Visit\"\n    }\n        ]\n    },\n        {\n        \"day\": 3,\n         \"bestTimeToVisit\": \"Afternoon\",\n          \"theme\": \"Market Shopping and Relaxing Beach Day\",\n        \"places\":[\n          {\n           \"placeName\":\"Anjuna Flea Market (Wednesday)\",\n            \"placeDetails\": \"A vibrant market held every Wednesday where you can find a variety of local handmade craft, clothes and souviniers from around india, which give authentic view of local trade.\",\n           \"placeImageUrl\":\"https://cdn.shopify.com/s/files/1/1233/0440/files/4-82_-_ANJUNA_FLEA_MARKET_1024x1024.jpg?v=1538138888\",\n            \"geoCoordinates\": {\"latitude\": 15.562637, \"longitude\":73.733230},\n            \"ticketPricing\":\"Free\",\n          \"travelTime\":\"1 hour\",\n          \"activity\":\"shopping for Souvenir and Local goods\"\n      }\n         ,{\n           \"placeName\": \"Arambol Beach\",\n            \"placeDetails\": \"Enjoy calm and serene evening and enjoy the sunset while listening to peaceful water and the evening breeze at arambol beach, one of calm and nature friendly beachs of goa.\",\n         \"placeImageUrl\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRO91m022E1H52n2B1W1X-cM14F44yP1GfW1hD00hD2h4K0Q4aY0U4tQfMv284R2zM&usqp=CAU\",\n           \"geoCoordinates\": {\"latitude\": 15.658924, \"longitude\":73.713376},\n          \"ticketPricing\":\"Free\",\n          \"travelTime\": \"1.5 Hours\",\n            \"activity\":\"beach Visit, Evening and sunset time\"\n          }\n          ]\n    }\n    ]\n}\n```\n**Important Notes:**\n*   **Prices:** Prices are estimates and may vary depending on the season and availability. Book hotels in advance, especially during peak season.\n*   **Transportation:** Rent a scooter or bike for convenient travel within Goa. If not, Local Taxis or auto rickshaws or state run Buses are readily available. You could get a cheaper rate if booked through Ola/Uber apps for taxi rides, while government transport option via state bus are the cheapest mode but may not give flexible transport at different location\n*   **Food:** Keep food costs down by exploring local restaurants and \"dhabas\" (small roadside eateries).\n*   **Flexibility:** This is a suggested itinerary; feel free to adjust it based on your interests and preferences.\n*   **Off-season:** Travelling in the monsoon or shoulder season (Summer/Post monsoon) can make trip cheaper due to better accommodation price but can sometime make accessibility little hard or cancel plans due to rain. Plan your dates carefully and enjoy trip!.\n\nLet me know if you'd like any adjustments or further details!\n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Goa, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time travel each of the location for 3 days with each day plan with best\ntime to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"tripName\": \"Goa Budget Trip for Couples (3 Days)\",\n  \"budget\": \"Low/Budget\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The Green Park\",\n      \"hotelAddress\": \"Near Calangute Market, Calangute, Goa 403516, India\",\n      \"price\": 1200, \n      \"hotelImageUrl\": \"https://example.com/greenpark.jpg\",  // Replace with actual image URL\n      \"geoCoordinates\": { \"latitude\": 15.5407, \"longitude\": 73.7556 },\n      \"rating\": 3.5,\n      \"description\": \"Basic, clean rooms near Calangute beach. Good value for money.\"\n    },\n    {\n      \"hotelName\": \"Seashell Beach Resort\",\n      \"hotelAddress\": \"Near Baga Beach, Baga, Goa 403516, India\",\n      \"price\": 1500,\n      \"hotelImageUrl\": \"https://example.com/seashell.jpg\", // Replace with actual image URL\n      \"geoCoordinates\": { \"latitude\": 15.5606, \"longitude\": 73.7498 },\n      \"rating\": 3.8,\n      \"description\": \"Budget-friendly resort with basic amenities, close to Baga Beach.\"\n    },\n    {\n      \"hotelName\": \"Zostel Goa\",\n      \"hotelAddress\": \"325/2, Fontainhas, Panjim, Goa 403001, India\",\n      \"price\": 800,\n      \"hotelImageUrl\": \"https://example.com/zostel.jpg\", // Replace with actual image URL\n      \"geoCoordinates\": { \"latitude\": 15.4482, \"longitude\": 73.8210 },\n      \"rating\": 4.0,\n      \"description\": \"Hostel with private rooms available; sociable atmosphere, good for budget travellers.\"\n\n    }\n  ],\n  \"dailyItinerary\": [\n    {\n      \"day\": 1,\n      \"bestTimeToVisit\": \"Morning\",\n      \"theme\": \"North Goa Beaches\",\n      \"places\": [\n        {\n          \"placeName\": \"Calangute Beach\",\n          \"placeDetails\": \"Popular beach with watersports and shacks.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Calangute_Beach_%28Goa%29.jpg/1280px-Calangute_Beach_%28Goa%29.jpg\",\n          \"geoCoordinates\": { \"latitude\": 15.5413, \"longitude\": 73.7536 },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"10 mins (if staying nearby)\"\n        },\n        {\n          \"placeName\": \"Baga Beach\",\n          \"placeDetails\": \"Lively beach with watersports and nightlife.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/cmsuploads/featured/baga-beach-goa-cover.jpg\",\n          \"geoCoordinates\": { \"latitude\": 15.5599, \"longitude\": 73.7502 },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"15 mins\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"bestTimeToVisit\": \"Morning\",\n      \"theme\": \"Old Goa & Panjim\",\n      \"places\": [\n        {\n          \"placeName\": \"Old Goa Churches (Se Cathedral, Basilica of Bom Jesus)\",\n          \"placeDetails\": \"Historic churches showcasing Portuguese architecture.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/bgImages/goa-old-goa-churches.jpg\",\n          \"geoCoordinates\": { \"latitude\": 15.4955, \"longitude\": 73.9164 }, // Approximate coordinates for Old Goa\n          \"ticketPricing\": \"Free (churches), small entry fee for museums within\",\n          \"travelTime\": \"30-45 mins (depending on location)\"\n        },\n        {\n          \"placeName\": \"Panjim City\",\n          \"placeDetails\": \"Explore the capital city's Latin Quarter, markets, and waterfront.\",\n          \"placeImageUrl\": \"https://www.holidify.com/images/bgImages/panjim-featured.jpg\",\n          \"geoCoordinates\": { \"latitude\": 15.45, \"longitude\": 73.82 }, // Approximate coordinates for Panjim\n          \"ticketPricing\": \"Free (for exploring the city)\",\n          \"travelTime\": \"30 mins (from Old Goa)\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"bestTimeToVisit\": \"Morning\",\n      \"theme\": \"South Goa & Beaches\",\n      \"places\": [\n        {\n          \"placeName\": \"Palolem Beach\",\n          \"placeDetails\": \"Serene beach in South Goa, known for its calm waters.\",\n          \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/1f/c6/0e/palolem-beach.jpg?w=1200&h=-1&s=1\",\n          \"geoCoordinates\": { \"latitude\": 15.0583, \"longitude\": 73.9731 },\n          \"ticketPricing\": \"Free\",\n          \"travelTime\": \"2-3 hours (depending on your location)\"\n        }\n        \n      ]\n    }\n  ]\n}\n```\n\n**Remember to replace the placeholder image URLs with actual URLs.**  Also, travel times are estimates and depend on traffic and your mode of transport (scooter/bike recommended for budget travel).  Food costs are not included but can be kept low by eating at local eateries.  Consider using public transport or sharing taxis/auto-rickshaws to minimize expenses.  This itinerary prioritizes beaches and cultural sites, offering a balance of relaxation and exploration.\n"},
          ],
        },
      ],
    });
  
